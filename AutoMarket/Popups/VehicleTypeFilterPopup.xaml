<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
               xmlns:models="clr-namespace:AutoMarket.Models"
               x:Class="AutoMarket.Popups.VehicleTypeFilterPopup"
               Color="Transparent">

    <Border x:Name="MainBorder" 
            BackgroundColor="White"
            StrokeShape="RoundRectangle 20,20,0,0"
            VerticalOptions="End"
            HorizontalOptions="Fill">

        <Grid RowDefinitions="Auto, *">

            <Grid Grid.Row="0" ColumnDefinitions="*, Auto" Padding="20,15">
                <Label Text="Оберіть тип" FontAttributes="Bold" FontSize="18" VerticalOptions="Center"/>
                <ImageButton Grid.Column="1" 
                             Source="close_icon.png" 
                             HeightRequest="30" 
                             WidthRequest="30" 
                             Clicked="OnCloseButtonClicked">
                </ImageButton>
            </Grid>

            <CollectionView Grid.Row="1" 
                            ItemsSource="{Binding VehicleTypes}" 
                            SelectionMode="Single" 
                            SelectionChanged="OnSelectionChanged">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:VehicleTypeDto">
                        <Border Padding="20,15" StrokeThickness="0" BackgroundColor="Transparent">
                            <Label Text="{Binding Name}" FontSize="16" TextColor="Black"/>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Grid>
    </Border>
</toolkit:Popup>